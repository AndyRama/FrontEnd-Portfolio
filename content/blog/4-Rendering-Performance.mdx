---
title: "üöÄ Roadmap - Rendering, Performance & Advanced React (Next.js 14/15)"
excerpt: "Optimisation ax√©e sur le rendu statique et dynamique, l'optimisation des performances avec Next.js 14/15, ainsi que des concepts avanc√©s de React Server Components (RSC)."
date: '2024-06-21'
author: 'Andy Ramaroson'
categories:
  - title: 'React'
  - title: 'D√©veloppement'
type: 'Post'
image: '/images/react.jpeg'
---

üöÄ Roadmap - Rendering, Performance & Advanced React (Next.js 14/15)

1. **Comprendre le Static Rendering (SSG - Static Site Generation)**

    Principe : g√©n√©ration des pages au moment du build.  
    Utilisation de `generateStaticParams()` dans Next 14.  
    Id√©al pour les pages peu fr√©quentes (ex : landing pages).

    ```js
    export async function generateStaticParams() {
      const posts = await fetchPosts();
      return posts.map(post => ({ slug: post.slug }));
    }
    ```

2. **Dynamic Rendering (SSR - Server-Side Rendering)**

    G√©n√©ration des pages √† la vol√©e √† chaque requ√™te.  
    Id√©al pour les contenus personnalis√©s ou en temps r√©el.  
    Exemple avec un Server Component :

    ```jsx
    export default async function Page() {
      const data = await fetch('https://api.example.com/data');
      return <div>{data.title}</div>;
    }
    ```

3. **Les Dynamic Functions**

    Fonctions c√¥t√© serveur ex√©cut√©es √† la demande, comme `headers()`, `cookies()`, `revalidatePath()`.  
    Exemple : r√©cup√©rer les cookies pour personnaliser le contenu :

    ```js
    import { cookies } from 'next/headers';

    export default function Dashboard() {
      const theme = cookies().get('theme');
      return <div>{theme?.value}</div>;
    }
    ```

4. **La Pr√©-g√©n√©ration de Pages Dynamiques**

    Combinaison de SSG et SSR gr√¢ce √† la pr√©-g√©n√©ration partielle.  
    Exemple avec `generateStaticParams()` + fallback dynamique :

    ```js
    export const dynamicParams = true;
    ```

5. **Convertir en Rendu Dynamique**

    Utilisation de `export const dynamic = 'force-dynamic'` pour forcer le rendu dynamique.  
    Utile pour des pages n√©cessitant toujours des donn√©es √† jour.

6. **Rendu Dynamique avec Headers**

    Acc√®s aux headers HTTP pour du contenu dynamique :

    ```js
    import { headers } from 'next/headers';

    export default function Page() {
      const userAgent = headers().get('user-agent');
      return <p>{userAgent}</p>;
    }
    ```

7. **Rendu Dynamique avec Cookies**

    Personnalisation du contenu gr√¢ce aux cookies.  
    Lecture et √©criture s√©curis√©es via le module `cookies()`.

8. **L‚ÄôImpact de fetch dans un RSC**

    `fetch()` c√¥t√© serveur est automatiquement mis en cache par Next.js.  
    Contr√¥le avec des options comme `cache: 'no-store'` ou `revalidate`.

    ```js
    await fetch('/api', { cache: 'no-store' });
    ```

9. **Les Options des Donn√©es Cache**

    `force-cache` (par d√©faut), `no-store`, `revalidate` (dur√©e en secondes).  
    Optimisation des performances en ajustant la strat√©gie de cache.

10. **La Diff√©rence Fondamentale entre Next 14 et Next 15**

    Next 14 : Server Actions, App Router stable, Optimistic UI natif.  
    Next 15 : am√©liorations sur le streaming, la gestion du cache, compatibilit√© avec React 19 (use(), useOptimistic, startTransition optimis√©).

11. **Le Streaming Avanc√©**

    Am√©lioration des performances gr√¢ce au streaming des donn√©es.  
    Utilisation de `Suspense` pour afficher des donn√©es d√®s qu‚Äôelles sont pr√™tes.

12. **Loading / Skeleton avec Suspense**

    Cr√©er des interfaces r√©actives en affichant des loaders pendant le chargement :

    ```jsx
    import { Suspense } from 'react';

    export default function Page() {
      return (
        <Suspense fallback={<Loading />}>
          <DataComponent />
        </Suspense>
      );
    }
    ```

13. **Le Probl√®me des Librairies Externes C√¥t√© Client avec Next**

    Certaines librairies ne supportent pas bien les environnements SSR.  
    Solutions :
    - Forcer l‚Äôex√©cution c√¥t√© client avec `'use client'`.
    - Chargement dynamique avec `dynamic(import('lib'), { ssr: false })`.

14. **use server, use client, server-only, et use cache**

    `'use server'` : marque une fonction pour l'ex√©cution c√¥t√© serveur.  
    `'use client'` : pour les composants React classiques.  
    `server-only` : emp√™che l'importation accidentelle c√¥t√© client.  
    `use cache` : am√©liore la gestion du cache des donn√©es.

15. **Composition Patterns**

    Techniques pour structurer les composants de mani√®re r√©utilisable :
    - Compound Components
    - Render Props
    - HOC (Higher-Order Components)
    - Hooks personnalis√©s

16. **RCC / RSC et RCIC (React Contextual Isomorphic Component)**

    RCC (React Client Component) : composants qui tournent c√¥t√© client.  
    RSC (React Server Component) : ex√©cut√©s c√¥t√© serveur.  
    RCIC : composants hybrides capables de s'adapter au contexte client/serveur.

17. **L'Hydratation en Profondeur**

    Processus par lequel React "r√©active" l'interactivit√© c√¥t√© client.  
    Optimisation : √©viter le sur-rendu inutile, pr√©f√©rer les Server Components pour des parties statiques.

18. **Render Apr√®s Hydration**

    Utilisation de `useEffect` pour effectuer des actions apr√®s l‚Äôhydratation :

    ```jsx
    useEffect(() => {
      console.log('Composant hydrat√©');
    }, []);
    ```

    Utile pour des interactions DOM directes ou des appels API post-hydratation.

‚úÖ **Exercices Pratiques**

- App Dashboard (SSG + SSR + Dynamic Rendering)
- Streaming App (Optimistic UI + Suspense + Server Actions)
- Formulaire FullStack (Validation, Hydratation, Erreurs Server/Client)
